(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(19),r=c.n(s),i=(c(25),c(4)),j=(c(26),c(3)),o=c(6),h=c.n(o),l=c(0),b=function(e){var t=Object(a.useState)([]),c=Object(i.a)(t,2),n=c[0],s=c[1];Object(a.useEffect)((function(){h.a.get("http://localhost:8000/api/pirates").then((function(t){s(t.data.pirates),e.setLoaded(!0),s(n.sort((function(e,t){return e.name.localeCompare(t.name)})))})).catch((function(e){return console.log(e)}))}),[e.loaded]);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("header",{children:[Object(l.jsx)("h1",{children:"Pirate Crew"}),Object(l.jsx)(j.a,{to:"/pirate/new",children:"Add Pirate"})]}),Object(l.jsx)("div",{className:"mainbody",children:n.map((function(t,c){return Object(l.jsxs)("div",{className:"onepirate",children:[Object(l.jsx)("h3",{children:t.name}),Object(l.jsx)("img",{src:t.image,alt:"pirate"}),Object(l.jsx)(j.a,{to:"/pirates/".concat(t._id),children:"View Pirate"}),Object(l.jsx)("button",{onClick:function(){return c=t._id,void h.a.delete("http://localhost:8000/api/pirates/delete/".concat(c)).then((function(t){console.log(t),e.setLoaded(!1),Object(j.c)("/pirates")})).catch((function(e){return console.log(e)}));var c},children:"Walk the Plank"})]})}))})]})},d=function(e){var t=Object(a.useState)({}),c=Object(i.a)(t,2),n=c[0],s=c[1];return Object(a.useEffect)((function(){h.a.get("http://localhost:8000/api/pirates/".concat(e.id)).then((function(t){s(t.data.pirate),e.setLoaded(!1)})).catch((function(e){return console.log(e)}))}),[e.id]),Object(l.jsxs)("div",{children:[Object(l.jsxs)("header",{children:[Object(l.jsx)("h1",{children:n.name}),Object(l.jsx)(j.a,{to:"/pirates",children:"Crew Board"})]}),Object(l.jsxs)("div",{className:"mainbody",children:[Object(l.jsx)("img",{src:n.image,alt:"pirate"}),Object(l.jsxs)("h2",{children:['"',n.catch_phrase,'"']}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h4",{children:"About"}),Object(l.jsxs)("p",{children:["Position: ",n.position]}),Object(l.jsxs)("p",{children:["Treasures: ",n.treasures]}),Object(l.jsxs)("p",{children:["Peg Leg: ",n.pegleg?"Yes":"No"]}),Object(l.jsxs)("p",{children:["Eye Patch: ",n.eyepatch?"Yes":"No"]}),Object(l.jsxs)("p",{children:["Hook Hand: ",n.hookhand?"Yes":"No"]})]})]})]})},p=c(8),O=c(5),u=function(e){var t=["Captain","First Mate","Quarter Master","Boatswain","Powder Monkey"],c=Object(a.useState)({name:"",image:"",treasures:0,catch_phrase:"",position:t[0],pegleg:!0,eyepatch:!0,hookhand:!0}),n=Object(i.a)(c,2),s=n[0],r=n[1],o=Object(a.useState)({}),b=Object(i.a)(o,2),d=b[0],u=b[1],x=function(e){r(Object(O.a)(Object(O.a)({},s),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(l.jsxs)("div",{children:[Object(l.jsxs)("header",{children:[Object(l.jsx)("h1",{children:"Add a pirate"}),Object(l.jsx)(j.a,{to:"/pirates",onClick:function(t){e.setLoaded(!1)},children:"Crew Board"})]}),Object(l.jsx)("div",{className:"mainbody",children:Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),h.a.post("http://localhost:8000/api/pirates/new",s).then((function(t){console.log(t),t.data.pirate?(e.setLoaded(!1),console.log("Preparing to navigate"),Object(j.c)("/pirates")):u(t.data.error.errors)})).catch((function(e){return console.log(e)}))},children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name: "}),Object(l.jsx)("input",{name:"name",type:"text",onChange:x}),Object(l.jsx)("br",{}),s.name.length<3&&0!=s.name.length?Object(l.jsx)("span",{children:"Name must be 3 or more characters"}):"",d.name&&Object(l.jsx)("span",{children:d.name.message}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"image",children:"Image URL: "}),Object(l.jsx)("input",{name:"image",type:"text",onChange:x}),Object(l.jsx)("br",{}),d.image&&Object(l.jsx)("span",{children:d.image.message}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"treasures",children:"Treasures: "}),Object(l.jsx)("input",{name:"treasures",type:"number",placeholder:"0",onChange:x}),Object(l.jsx)("br",{}),s.treasures<=0?Object(l.jsx)("span",{children:"You are one POOR pirate!"}):"",d.treasures&&Object(l.jsx)("span",{children:d.treasures.message}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"catch_phrase",children:"Catch Phrase: "}),Object(l.jsx)("input",{name:"catch_phrase",type:"text",onChange:x}),Object(l.jsx)("br",{}),s.catch_phrase.length<3&&0!=s.catch_phrase.length?Object(l.jsx)("span",{children:"Catch phrase must be 3 or more characters"}):"",d.catch_phrase&&Object(l.jsx)("span",{children:d.catch_phrase.message}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"position",children:"Position: "}),Object(l.jsx)("select",{name:"position",onChange:x,children:t.map((function(e,t){return Object(l.jsx)("option",{value:e,children:e})}))}),Object(l.jsx)("br",{}),d.position&&Object(l.jsx)("span",{children:d.position.message}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"pegleg",children:"Peg Leg: "}),Object(l.jsx)("input",{name:"pegleg",type:"checkbox",onChange:function(e){r(Object(O.a)(Object(O.a)({},s),{},{pegleg:!s.pegleg}))},defaultChecked:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"eyepatch",children:"Eye Patch: "}),Object(l.jsx)("input",{name:"eyepatch",type:"checkbox",onChange:function(e){r(Object(O.a)(Object(O.a)({},s),{},{eyepatch:!s.eyepatch}))},defaultChecked:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"hookhand",children:"Hook Hand: "}),Object(l.jsx)("input",{name:"hookhand",type:"checkbox",onChange:function(e){r(Object(O.a)(Object(O.a)({},s),{},{hookhand:!s.hookhand}))},defaultChecked:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",children:"Add to Crew"})]})})]})};var x=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(j.b,{children:[Object(l.jsx)(b,{path:"/pirates",loaded:c,setLoaded:n}),Object(l.jsx)(d,{path:"/pirates/:id",loaded:c,setLoaded:n}),Object(l.jsx)(u,{path:"/pirate/new",loaded:c,setLoaded:n})]})})},m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,53)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root")),m()}},[[52,1,2]]]);
//# sourceMappingURL=main.1d41d54c.chunk.js.map